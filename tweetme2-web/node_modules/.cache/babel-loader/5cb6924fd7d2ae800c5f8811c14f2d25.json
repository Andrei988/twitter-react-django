{"ast":null,"code":"import _toConsumableArray from\"D:\\\\via\\\\Internship\\\\InternshipProjects\\\\TwitterApp\\\\tweetme2-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:\\\\via\\\\Internship\\\\InternshipProjects\\\\TwitterApp\\\\tweetme2-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{loadTweets}from\"../lookup\";export function TweetsComponent(props){var textAreaRef=React.createRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),newTweets=_useState2[0],setNewTweets=_useState2[1];var handleSubmit=function handleSubmit(event){event.preventDefault();var newVal=textAreaRef.current.value;var tempNewTweets=_toConsumableArray(newTweets);tempNewTweets.unshift({content:newVal,likes:0,id:0});setNewTweets(tempNewTweets);textAreaRef.current.value='';};return/*#__PURE__*/React.createElement(\"div\",{className:props.className},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-3\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"textarea\",{ref:textAreaRef,required:true,className:\"form-control\",name:\"tweet\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary my-3\"},\"Tweet\"))),/*#__PURE__*/React.createElement(TweetsList,{newTweets:newTweets}));}export function TweetsList(props){var _useState3=useState(props.newTweets?props.newTweets:[]),_useState4=_slicedToArray(_useState3,2),tweetsInit=_useState4[0],setTweetsInit=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tweets=_useState6[0],setTweets=_useState6[1];useEffect(function(){var final=_toConsumableArray(props.newTweets).concat(tweetsInit);if(final.length!==tweets.length){setTweets(final);}},[props.newTweets,tweets,tweetsInit]);useEffect(function(){var myCallBack=function myCallBack(response,status){if(status===200){var finalTweetsInit=_toConsumableArray(response).concat(tweetsInit);setTweetsInit(finalTweetsInit);}else{alert(\"There was an error\");}};loadTweets(myCallBack);},[tweetsInit]);return tweets.map(function(item,index){return/*#__PURE__*/React.createElement(Tweet,{tweet:item,className:\"my-5 py-5 border bg-white text-dark\",key:\"\".concat(index,\"-{item.id}\")});});}export function ActionBtn(props){var tweet=props.tweet,action=props.action;var _useState7=useState(tweet.likes?tweet.likes:0),_useState8=_slicedToArray(_useState7,2),likes=_useState8[0],setLikes=_useState8[1];var _useState9=useState(tweet.userLike===true),_useState10=_slicedToArray(_useState9,2),userLike=_useState10[0],setUserLike=_useState10[1];var className=props.className?props.className:'btn btn-primary btn-sm';var actionDisplay=action.display?action.display:'Action';var handleClick=function handleClick(event){if(event)event.preventDefault();if(action.type==='like'){if(userLike===true){setLikes(likes-1);setUserLike(false);}else{setLikes(likes+1);setUserLike(true);}}};var display=action.type==='like'?\"\".concat(likes,\" \").concat(actionDisplay):actionDisplay;return/*#__PURE__*/React.createElement(\"button\",{className:className,onClick:handleClick},display);}export function Tweet(props){var tweet=props.tweet;var className=props.className?props.className:'col-10 mx-auto col-md-6';return/*#__PURE__*/React.createElement(\"div\",{className:className},/*#__PURE__*/React.createElement(\"p\",null,tweet.id,\" - \",tweet.content),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ActionBtn,{tweet:tweet,action:{type:\"like\",display:\"Likes\"}}),/*#__PURE__*/React.createElement(ActionBtn,{tweet:tweet,action:{type:\"unlike\",display:\"Unlike\"}}),/*#__PURE__*/React.createElement(ActionBtn,{tweet:tweet,action:{type:\"retweet\",display:\"Retweet\"}})));}","map":{"version":3,"sources":["D:/via/Internship/InternshipProjects/TwitterApp/tweetme2-web/src/tweets/components.js"],"names":["React","useEffect","useState","loadTweets","TweetsComponent","props","textAreaRef","createRef","newTweets","setNewTweets","handleSubmit","event","preventDefault","newVal","current","value","tempNewTweets","unshift","content","likes","id","className","TweetsList","tweetsInit","setTweetsInit","tweets","setTweets","final","concat","length","myCallBack","response","status","finalTweetsInit","alert","map","item","index","ActionBtn","tweet","action","setLikes","userLike","setUserLike","actionDisplay","display","handleClick","type","Tweet"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {loadTweets} from \"../lookup\";\r\n\r\nexport function TweetsComponent(props) {\r\n    const textAreaRef = React.createRef()\r\n    const [newTweets, setNewTweets] = useState([])\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        const newVal = textAreaRef.current.value\r\n        let tempNewTweets = [...newTweets]\r\n        tempNewTweets.unshift({\r\n            content: newVal,\r\n            likes: 0,\r\n            id: 0\r\n        })\r\n        setNewTweets(tempNewTweets)\r\n        textAreaRef.current.value = ''\r\n    }\r\n    return <div className={props.className}>\r\n        <div className='col-12 mb-3'>\r\n            <form onSubmit={handleSubmit}>\r\n                <textarea ref={textAreaRef} required={true} className='form-control' name='tweet'>\r\n                </textarea>\r\n                <button type='submit' className='btn btn-primary my-3'>Tweet</button>\r\n            </form>\r\n        </div>\r\n        <TweetsList newTweets={newTweets}/>\r\n    </div>\r\n}\r\n\r\nexport function TweetsList(props) {\r\n    const [tweetsInit, setTweetsInit] = useState(props.newTweets ? props.newTweets : [])\r\n    const [tweets, setTweets] = useState([])\r\n\r\n    useEffect(() => {\r\n        const final = [...props.newTweets].concat(tweetsInit)\r\n        if (final.length !== tweets.length) {\r\n            setTweets(final)\r\n        }\r\n    }, [props.newTweets, tweets, tweetsInit])\r\n\r\n    useEffect(() => {\r\n        const myCallBack = (response, status) => {\r\n            if (status === 200) {\r\n                const finalTweetsInit = [...response].concat(tweetsInit)\r\n                setTweetsInit(finalTweetsInit)\r\n            } else {\r\n                alert(\"There was an error\")\r\n            }\r\n        }\r\n        loadTweets(myCallBack)\r\n    }, [tweetsInit])\r\n    return tweets.map((item, index) => {\r\n        return <Tweet tweet={item} className='my-5 py-5 border bg-white text-dark' key={`${index}-{item.id}`}/>\r\n    })\r\n}\r\n\r\nexport function ActionBtn(props) {\r\n    const {tweet, action} = props\r\n    const [likes, setLikes] = useState(tweet.likes ? tweet.likes : 0)\r\n    const [userLike, setUserLike] = useState(tweet.userLike === true)\r\n    const className = props.className ? props.className : 'btn btn-primary btn-sm'\r\n    const actionDisplay = action.display ? action.display : 'Action'\r\n    const handleClick = (event) => {\r\n        if (event)\r\n            event.preventDefault()\r\n        if (action.type === 'like') {\r\n            if (userLike === true) {\r\n                setLikes(likes - 1)\r\n                setUserLike(false)\r\n            } else {\r\n                setLikes(likes + 1)\r\n                setUserLike(true)\r\n            }\r\n        }\r\n\r\n    }\r\n    const display = action.type === 'like' ? `${likes} ${actionDisplay}` : actionDisplay\r\n    return <button className={className} onClick={handleClick}>{display}</button>\r\n}\r\n\r\nexport function Tweet(props) {\r\n    const {tweet} = props\r\n    const className = props.className ? props.className : 'col-10 mx-auto col-md-6'\r\n    return <div className={className}>\r\n        <p>{tweet.id} - {tweet.content}</p>\r\n        <div>\r\n            <ActionBtn tweet={tweet} action={{type: \"like\", display: \"Likes\"}}/>\r\n            <ActionBtn tweet={tweet} action={{type: \"unlike\", display: \"Unlike\"}}/>\r\n            <ActionBtn tweet={tweet} action={{type: \"retweet\", display: \"Retweet\"}}/>\r\n        </div>\r\n    </div>\r\n}"]},"metadata":{},"sourceType":"module"}