{"ast":null,"code":"var _jsxFileName = \"D:\\\\via\\\\Internship\\\\InternshipProjects\\\\TwitterApp\\\\tweetme2-web\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport Nav from './components/Nav';\nimport LoginForm from './components/LoginForm';\nimport SignupForm from './components/SignupForm';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handle_login = (e, data) => {\n      e.preventDefault();\n      fetch('http://localhost:8000/token-auth/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(res => res.json()).then(json => {\n        localStorage.setItem('token', json.token);\n        this.setState({\n          logged_in: true,\n          displayed_form: '',\n          username: json.user.username\n        });\n      });\n    };\n\n    this.handle_logout = () => {\n      localStorage.removeItem('token');\n      this.setState({\n        logged_in: false,\n        username: ''\n      });\n    };\n\n    this.handle_signup = (e, data) => {\n      e.preventDefault();\n      fetch('http://localhost:8000/core/users/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(res => res.json()).then(json => {\n        localStorage.setItem('token', json.token);\n        this.setState({\n          logged_in: true,\n          displayed_form: '',\n          username: json.username\n        });\n      });\n    };\n\n    this.display_form = form => {\n      this.setState({\n        displayed_form: form\n      });\n    };\n\n    this.state = {\n      displayed_form: '',\n      logged_in: localStorage.getItem('token') ? true : false,\n      username: ''\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.logged_in) {\n      fetch('http://localhost:8000/core/current_user/', {\n        headers: {\n          Authorization: `JWT ${localStorage.getItem('token')}`\n        }\n      }).then(res => res.json()).then(json => {\n        this.setState({\n          username: json.username\n        });\n      });\n    }\n  }\n\n  render() {\n    let form;\n\n    switch (this.state.displayed_form) {\n      case 'login':\n        form = /*#__PURE__*/React.createElement(LoginForm, {\n          handle_login: this.handle_login,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 24\n          }\n        });\n        break;\n\n      case 'signup':\n        form = /*#__PURE__*/React.createElement(SignupForm, {\n          handle_signup: this.handle_signup,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 24\n          }\n        });\n        break;\n\n      default:\n        form = null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      logged_in: this.state.logged_in,\n      display_form: this.display_form,\n      handle_logout: this.handle_logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }), form, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, this.state.logged_in ? `Hello, ${this.state.username}` : 'Please Log In'));\n  }\n\n}\n\nexport default App;\nimport { TweetsComponent } from \"./tweets\"; // function App() {\n//     return (\n//         <div className=\"App\">\n//             <header className=\"App-header\">\n//                 <div>\n//                     <TweetsComponent/>\n//                 </div>\n//             </header>\n//         </div>\n//     );\n// }","map":{"version":3,"sources":["D:/via/Internship/InternshipProjects/TwitterApp/tweetme2-web/src/App.js"],"names":["React","Component","Nav","LoginForm","SignupForm","App","constructor","props","handle_login","e","data","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","json","localStorage","setItem","token","setState","logged_in","displayed_form","username","user","handle_logout","removeItem","handle_signup","display_form","form","state","getItem","componentDidMount","Authorization","render","TweetsComponent"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Nav from './components/Nav';\nimport LoginForm from './components/LoginForm';\nimport SignupForm from './components/SignupForm';\nimport './App.css';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            displayed_form: '',\n            logged_in: localStorage.getItem('token') ? true : false,\n            username: ''\n        };\n    }\n\n    componentDidMount() {\n        if (this.state.logged_in) {\n            fetch('http://localhost:8000/core/current_user/', {\n                headers: {\n                    Authorization: `JWT ${localStorage.getItem('token')}`\n                }\n            })\n                .then(res => res.json())\n                .then(json => {\n                    this.setState({username: json.username});\n                });\n        }\n    }\n\n    handle_login = (e, data) => {\n        e.preventDefault();\n        fetch('http://localhost:8000/token-auth/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data)\n        })\n            .then(res => res.json())\n            .then(json => {\n                localStorage.setItem('token', json.token);\n                this.setState({\n                    logged_in: true,\n                    displayed_form: '',\n                    username: json.user.username\n                });\n            });\n    };\n\n    handle_logout = () => {\n        localStorage.removeItem('token');\n        this.setState({logged_in: false, username: ''});\n    };\n\n    handle_signup = (e, data) => {\n        e.preventDefault();\n        fetch('http://localhost:8000/core/users/', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data)\n        })\n            .then(res => res.json())\n            .then(json => {\n                localStorage.setItem('token', json.token);\n                this.setState({\n                    logged_in: true,\n                    displayed_form: '',\n                    username: json.username\n                });\n            });\n    };\n\n    display_form = form => {\n        this.setState({\n            displayed_form: form\n        });\n    };\n\n    render() {\n        let form;\n        switch (this.state.displayed_form) {\n            case 'login':\n                form = <LoginForm handle_login={this.handle_login}/>;\n                break;\n            case 'signup':\n                form = <SignupForm handle_signup={this.handle_signup}/>;\n                break;\n            default:\n                form = null;\n        }\n\n        return (\n            <div className=\"App\">\n                <Nav\n                    logged_in={this.state.logged_in}\n                    display_form={this.display_form}\n                    handle_logout={this.handle_logout}\n                />\n                {form}\n                <h3>\n                    {this.state.logged_in\n                        ? `Hello, ${this.state.username}`\n                        : 'Please Log In'}\n                </h3>\n            </div>\n        );\n    }\n}\n\nexport default App;\n\n\nimport {TweetsComponent} from \"./tweets\"\n\n// function App() {\n//     return (\n//         <div className=\"App\">\n//             <header className=\"App-header\">\n//                 <div>\n//                     <TweetsComponent/>\n//                 </div>\n//             </header>\n//         </div>\n//     );\n// }"]},"metadata":{},"sourceType":"module"}